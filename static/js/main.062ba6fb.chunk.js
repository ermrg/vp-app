(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{44:function(e,n,t){},45:function(e,n,t){"use strict";t.r(n);var r=t(2),a=t.n(r),c=t(27),o=t.n(c),s=t(10),i=t(4),u=t(1);function l(){return Object(u.jsx)("div",{className:"home",children:Object(u.jsxs)("div",{children:[Object(u.jsxs)("div",{className:"title",children:[Object(u.jsx)("h3",{children:"\u0916\u093e\u0901\u0921\u093e\u0926\u0947\u0935\u0940 \u0917\u093e\u0909\u0901\u092a\u093e\u0932\u093f\u0915\u093e"}),Object(u.jsx)("p",{children:"\u092e\u093e\u0915\u093e\u0926\u0941\u092e , \u0930\u093e\u092e\u0947\u091b\u093e\u092a, \u092a\u094d\u0930\u0926\u0947\u0936 \u0928\u0902 \u0969"})]}),Object(u.jsx)(s.b,{to:"/vpapp",children:"Village Profile App"})]})})}var d=t(0),p=t.n(d),j=t(25),h=t(3),b=t(12),v=t(9),f=(t(14),t(19)),O=t(32),m=t(30),x=new(function(e){Object(O.a)(t,e);var n=Object(m.a)(t);function t(){var e;Object(v.a)(this,t),(e=n.call(this,"VPDB")).users=void 0,e.wards=void 0,e.bastis=void 0,e.collectors=void 0;var r=Object(f.a)(e);return r.version(1).stores({users:"++id, name, phone, password",wards:"id, name, status",bastis:"id, name, status, wardId",collectors:"id, name, phone, password"}),r.open().then(function(){var e=Object(h.a)(p.a.mark((function e(n){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("DB opened Succefully"),console.log("Sync Complete");case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()).catch((function(e){console.log("DB error",e)})),e}return t}(t(29).a));function w(e){return g.apply(this,arguments)}function g(){return(g=Object(h.a)(p.a.mark((function e(n){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.bastis.where({wardId:parseInt(n)}).toArray();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(){return k.apply(this,arguments)}function k(){return(k=Object(h.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.transaction("r",x.wards,Object(h.a)(p.a.mark((function e(){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.wards.toArray();case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)}))));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function N(e){e.data;var n=Object(r.useState)([]),t=Object(b.a)(n,2),a=t[0],c=t[1],o=Object(r.useState)([]),s=Object(b.a)(o,2),i=s[0],l=s[1];function d(){return(d=Object(h.a)(p.a.mark((function e(){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y();case 2:n=e.sent,c(Object(j.a)(n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(r.useEffect)((function(){!function(){d.apply(this,arguments)}()}),[]);var v=function(){var e=Object(h.a)(p.a.mark((function e(n){var t,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.target.value,e.next=3,w(t);case 3:r=e.sent,l(Object(j.a)(r));case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return Object(u.jsxs)("div",{className:"vp-form",children:[Object(u.jsxs)("div",{className:"form-group",id:"1",children:[Object(u.jsx)("label",{className:"label",children:"1. Ward No"}),Object(u.jsx)("div",{className:"options-verical",onChange:v,children:a.map((function(e,n){return Object(u.jsx)("div",{className:"radio",children:Object(u.jsxs)("label",{children:[Object(u.jsx)("input",{type:"radio",value:e.id,name:"ward_no"}),e.name]})},n)}))})]}),Object(u.jsxs)("div",{className:"form-group",id:"2",children:[Object(u.jsx)("label",{className:"label",children:"2. Basti ko Naam"}),Object(u.jsx)("div",{className:"options-verical",children:i.map((function(e,n){return Object(u.jsx)("div",{className:"radio",children:Object(u.jsxs)("label",{children:[Object(u.jsx)("input",{type:"radio",value:e.id,name:"basti"}),e.name]})},n)}))})]})]})}function S(e){e.data;return Object(u.jsx)("div",{className:"vp-form-wrapper",children:Object(u.jsx)(N,{data:!0})})}function P(){return Object(u.jsx)("div",{children:"Pending Data Here"})}var W=t(20),A=t(13);function D(){return B.apply(this,arguments)}function B(){return(B=Object(h.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.transaction("r",x.collectors,Object(h.a)(p.a.mark((function e(){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.collectors.toArray();case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)}))));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(e,n){return E.apply(this,arguments)}function E(){return(E=Object(h.a)(p.a.mark((function e(n,t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.collectors.where({phone:n,password:t}).first();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var I=new(t(31).a),L={name:"",phone:"",password:""};function U(){var e=Object(r.useState)(L),n=Object(b.a)(e,2),t=n[0],a=n[1],c=Object(r.useState)(!1),o=Object(b.a)(c,2),i=o[0],l=o[1],d=Object(r.useState)(""),j=Object(b.a)(d,2),v=j[0],f=j[1];function O(){return(O=Object(h.a)(p.a.mark((function e(){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D();case 2:n=e.sent,console.log(n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(r.useEffect)((function(){w(),function(){O.apply(this,arguments)}()}),[]);var m=function(e){e.persist(),a((function(n){return Object(A.a)(Object(A.a)({},n),{},Object(W.a)({},e.target.name,e.target.value))}))},x=function(){var e=Object(h.a)(p.a.mark((function e(n){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),l(!0),e.next=4,C(t.phone,t.password);case 4:(r=e.sent)?(a((function(e){return Object(A.a)(Object(A.a)({},e),{},{id:(null===r||void 0===r?void 0:r.id)?null===r||void 0===r?void 0:r.id:L.id,name:(null===r||void 0===r?void 0:r.name)?null===r||void 0===r?void 0:r.name:"",phone:(null===r||void 0===r?void 0:r.phone)?null===r||void 0===r?void 0:r.phone:L.phone})})),g(r)):f("Phone or Password did not match!"),l(!1);case 7:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),w=function(){var e=I.get("auth");e&&a(Object(A.a)({},e))},g=function(e){I.set("auth",e)};return i?Object(u.jsx)("div",{className:"vp-home",children:"Loading..."}):t.id?Object(u.jsxs)("div",{className:"vp-home",children:[Object(u.jsxs)("div",{className:"welcome",children:["Welcome ",Object(u.jsx)("br",{}),null===t||void 0===t?void 0:t.name,Object(u.jsx)("p",{className:"logout",onClick:function(){a(Object(A.a)({},L)),I.remove("auth")},children:"Logout"})]}),Object(u.jsx)(s.b,{to:"/vpapp/add-new",children:"Add New Household"}),Object(u.jsx)(s.b,{to:"/vpapp/pending",children:"Pending Data"}),Object(u.jsx)(s.b,{to:"/vpapp/incomplete",children:"Incomplete Data"})]}):Object(u.jsx)("div",{className:"vp-home",children:Object(u.jsxs)("form",{method:"post",onSubmit:x,children:[Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("label",{children:"Phone"}),Object(u.jsx)("input",{type:"number",placeholder:"Phone No",name:"phone",value:null===t||void 0===t?void 0:t.phone,onChange:m,required:!0})]}),Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("label",{children:"Password"}),Object(u.jsx)("input",{type:"password",placeholder:"Password",name:"password",value:null===t||void 0===t?void 0:t.password,onChange:m,required:!0})]}),Object(u.jsx)("p",{style:{color:"red"},children:v}),Object(u.jsx)("button",{children:"Submit"})]})})}t(44);function q(){return x.open(),Object(u.jsx)(s.a,{children:Object(u.jsxs)(i.c,{children:[Object(u.jsx)(i.a,{path:"/vpapp/add-new",children:Object(u.jsx)(S,{})}),Object(u.jsx)(i.a,{path:"/vpapp/pending",children:Object(u.jsx)(P,{})}),Object(u.jsx)(i.a,{path:"/vpapp",children:Object(u.jsx)(U,{})}),Object(u.jsx)(i.a,{path:"/",children:Object(u.jsx)(l,{})})]})})}var H=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function J(e,n){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;null!=t&&(t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),n&&n.onUpdate&&n.onUpdate(e)):(console.log("Content is cached for offline use."),n&&n.onSuccess&&n.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}o.a.render(Object(u.jsx)(a.a.StrictMode,{children:Object(u.jsx)(q,{})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/vp-app",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var n="".concat("/vp-app","/service-worker.js");H?(!function(e,n){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(t){var r=t.headers.get("content-type");404===t.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):J(e,n)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(n,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):J(n,e)}))}}()}},[[45,1,2]]]);
//# sourceMappingURL=main.062ba6fb.chunk.js.map